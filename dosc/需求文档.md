收藏插件
第一部分：核心体验 - Popup 弹窗
1.1 功能模块：弹窗的呈现与导航 (Popup Display & Navigation)

用户故事: 作为一个用户，当我点击浏览器工具栏的插件图标时，我希望能立刻看到一个简洁的窗口，以便我能快速决定是收藏当前页还是管理我的收藏。

验收标准 (AC):

AC-1.1.1: 点击插件图标后，弹窗（Popup）必须在300毫秒内出现。

AC-1.1.2: 弹窗内清晰展示一个主操作按钮 [+ 收藏当前网页] 和一个次操作链接 [进入管理后台]。

AC-1.1.3: 点击 [进入管理后台] 会在新浏览器标签页中打开 management.html，原网页和弹窗不受影响。

AC-1.1.4: 弹窗的尺寸是固定的，例如 300px * 150px。

第二部分：核心流程 - 收藏与编辑
2.1 功能模块：信息填写表单 (Save/Edit Form)

用户故事: 作为一个用户，当我决定收藏一个网页时，我需要一个表单来方便地添加标题、备注和标签，以便为这条收藏增加上下文信息。

界面元素与状态:

URL字段: 文本字段，状态：只读（Read-only）。

标题字段: 文本输入框，状态：可编辑。

备注字段: 多行文本域（Textarea），行数至少为5行，可拉伸。

标签输入区:

已选标签容器：用于显示胶囊(Pill)状的已选标签。

文本输入框：用于输入和搜索标签。

推荐列表容器：用于显示匹配的已创建标签。

按钮: [确认保存] 按钮（默认可用），[取消] 按钮。

交互流程与验收标准 (AC):

AC-2.1.1: 进入此界面时，系统自动抓取当前页的URL和Title并填充，光标自动聚焦于“备注字段”。

AC-2.1.2: 在标签输入框输入"P"时，下方的推荐列表应只显示以"P"开头的已创建标签，例如“产品”。

AC-2.1.3: 点击推荐列表中的“产品”标签，该标签会以胶囊形式出现在已选区，同时输入框被清空。

AC-2.1.4: 在已选区点击“产品”胶囊的关闭(x)图标，该标签被移除。

AC-2.1.5: 在输入框输入一个全新的词“复盘”，然后按Enter键，系统会自动创建“复盘”标签并将其加入已选区。

AC-2.1.6: 点击 [确认保存]，系统将数据（包含一个唯一ID、URL、标题、备注、标签数组、ISO 8601格式的创建时间戳）存入浏览器本地存储。成功后，显示“收藏成功！”的浮动提示（Toast），2秒后自动消失，弹窗关闭。

AC-2.1.7: 点击 [取消]，所有未保存的修改被丢弃，界面返回到“1.1”的初始状态。

边界情况与校验:

空标题: 如果网页没有标题，标题字段应为空。

标签去重: 不允许添加重复的标签到同一条收藏中。

标签格式: 标签应去除首尾空格，且不允许只包含空格。建议将所有标签统一转为小写存储，以避免"Tech"和"tech"被视为两个标签。

专家提示: 这是整个产品最高频的交互，流程中的任何卡顿和不顺畅都会被无限放大。保存操作必须是异步的，确保UI不会因为数据写入而冻结。

第三部分：核心页面 - 管理后台
3.1 功能模块：数据看板 (Dashboard)

用户故事: 作为一个用户，我希望能在一个集中的视图中，通过图表直观地了解我收藏内容的分布和活跃度，以便进行自我洞察。

验收标准 (AC):

AC-3.1.1: 该模块位于管理后台顶部，默认状态为折叠。

AC-3.1.2: 点击模块标题或旁边的箭头图标可以展开/收起内容区，且状态会被浏览器记住。

AC-3.1.3: 条形图被放置在一个固定高度（例如200px）且带有垂直滚动条的容器中。

AC-3.1.4: 条形图必须展示所有标签，并按收藏数量从多到少排序。每个条目标注标签名和数量。

AC-3.1.5: 热力图能正确渲染过去90天的收藏数据，鼠标悬浮在某个日期方块上时，会显示具体日期和当天收藏数（例如“2025-09-14: 收藏5条”）。

3.2 功能模块：查找与筛选 (Search & Filter)

用户故事: 作为一个用户，当我的收藏变多时，我需要通过搜索和按标签筛选，来快速定位到我需要的信息。

验收标准 (AC):

AC-3.2.1: 在搜索框输入文字时，列表内容会进行实时（建议使用300ms防抖处理）的模糊搜索。

AC-3.2.2: 搜索范围必须同时覆盖收藏的标题、备注和标签。

AC-3.2.3: 点击左侧栏的某个标签（例如“产品”），右侧列表会只显示带有“产品”标签的收藏条目。此时，搜索框的搜索将只在此筛选结果内进行。

AC-3.2.4: 当搜索/筛选结果为空时，列表区域应显示清晰的提示信息，例如“未找到相关收藏”。

3.3 功能模块：内容管理 (CRUD Operations)

用户故事: 作为一个用户，我需要能对已有的收藏进行修改和删除，包括批量删除，以便保持我的知识库整洁有效。

验收标准 (AC):

AC-3.3.1: 每张收藏卡片上都有一个【编辑】和一个【删除】按钮。

AC-3.3.2: 点击【编辑】按钮，会弹出与“2.1”相同的表单界面，并预先填充好该条目的所有数据。

AC-3.3.3: 点击【删除】按钮，会弹出一个非阻塞式确认框（例如 “确定要删除《...标题》吗？”），确认后该条目被移除。

AC-3.3.4: 勾选任意卡片前的复选框，顶部的 [批量操作] 按钮被激活。

AC-3.3.5: 点击 [批量操作] -> [批量删除]，会弹出确认框“确定要删除选中的 X 条记录吗？”。

AC-3.3.6: 点击 [全部删除] 按钮，弹出的确认框内必须包含一个文本输入框，只有当用户输入的内容与提示文字（例如“确认删除”）完全一致时，“最终删除”按钮才变为可点击状态。

专家提示: 所有删除操作都应该是“软删除”（即标记为已删除，而不是立即从数据库移除），这为你未来增加“回收站”功能埋下伏笔。

第四部分：核心流程 - 导出数据
4.1 功能模块：导出功能 (Export)

用户故事: 作为一个用户，我需要能将我筛选出的数据导出为通用格式的文件，以便在飞书等其他工具中进行二次处理和备份。

验收标准 (AC):

AC-4.1.1: 导出模态框中，范围选择（全部/时间/标签）为单选。

AC-4.1.2: 导出的CSV文件必须包含以下列头：id, created_at, url, title, note, tags。

AC-4.1.3: tags列的内容应为该条收藏的标签数组转换成的、用英文逗号分隔的单个字符串，例如 "产品,设计,AI"。

AC-4.1.4: 文件名应根据导出选项动态生成，格式为 [插件名]_[导出类型]_[导出日期].csv。